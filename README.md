# 키친포스

## 퀵 스타트

```sh
cd docker
docker compose -p kitchenpos up -d
```

## 요구 사항

- 식당이나 카페 등의 음식 서비스 업체에서 사용할 수 있는 주문 관리 시스템(키오스크)을 구현합니다.

### 메뉴 관리
- 메뉴그룹
  - 식당이나 카페에서 제공하는 메뉴들의 카테코리를 분류하기 위한 단위입니다.
  - [ ] 메뉴 그룹을 생성할 수 있다. 메뉴 그룹은 고유한 이름을 가지고 있어, 중복된 이름은 사용할 수 없다. 
  - [ ] 모든 메뉴 그룹을 조회 할 수 있다.
  - 예를 들어, `추천메뉴`, `신메뉴`, `단품` 등 메뉴 그룹을 생성할 수 있습니다.
- 메뉴 
  - [ ] 메뉴를 등록 할 수 있다.
    - [ ] 메뉴는 메뉴 그룹안에 포함되어야한다.
    - [ ] 메뉴의 이름, 가격, 노출여부, 구성 상품들을 필수로 기입해야한다. 
      - [ ] 메뉴의 가격은 `0원`보다 적을 수 없다. 
      - [ ] 메뉴의 이름은 비속어(profanity)가 들어갈 수 없다.
      - [ ] 메뉴의 `구성 상품`은 이미 등록된 상품으로만 등록이 가능하다.
      - [ ] 메뉴의 `구성 상품`수량은 0보다 작을 수 없다. 
      - [ ] 메뉴의 가격이 `구성 상품`가격의 총합보다 클 수 없다.
  - **메뉴 등록 예시**
    - **메뉴그룹**: 추천메뉴
    - **이름**: 후라이드 치킨세트
    - **가격**: 22,000원
    - **노출 여부**: 예
    - **구성 상품**:
      - 상품: 후라이드 치킨(가격: 20,000원)
      - 수량: 1
      - 상품: 콜라(가격: 3,000원)
      - 수량: 1
  - [ ] 메뉴의 가격 수정이 가능하다. 
    - [ ] 수정할 가격(메뉴의 가격)은 `0원`보다 작을 수 없다.
    - [ ] 수정할 가격(메뉴의 가격)이 `구성 상품`가격의 총합보다 클 수 없다. 
  - [ ] 메뉴를 노출상태로 변경 할 수 있다.
    - [ ] 메뉴의 가격이 `구성상품` 가격 총합보다 클 수 없다.
  - [ ] 메뉴를 `비노출상태`로 변경 할 수 있다. 
  - [ ] 등록된 메뉴 목록을 조회 할 수 있다. 

### 상품 
- [ ] 상품을 등록 할 수 있다. 
  - [ ] `이름`, `가격`을 필수로 입력하여야 한다.
    - [ ] 가격은 `0원`보다 작을 수 없다.
    - [ ] 이름은 비속어를 입력할 수 없다.
  - **상품 등록 예시**
    - **이름**: 후라이드 치킨
    - **가격**: 15,000원
- [ ] 상품의 가격을 변경할 수 있다. 
  - [ ] 변경 가격은 `0원`보다 작을 수 없다. 
  - [ ] 해당 상품으로 구성된 메뉴 가격이 수정된 상품의 가격 총합보다 커지게되면 해당 메뉴를 `비노출`시킨다. 
  - 예를 들어, `후라이드 치킨`의 상품 가격이 `19000원`에서 `24000원`으로 변경되면, `후라이드 치킨 세트`메뉴의 기존 가격이 `22000원`이라면 이 메뉴는 비노출처리가 됩니다.
- [ ] 등록한 상품 목록을 조회할 수 있다.

### 주문
- [ ] 주문을 할 수 있다.
  - [ ] 주문 유형을 입력해야 한다. 
    - [ ] 주문 유형에는 `배달`, `테이크아웃`, `매장식사`가 있다. 
  - [ ] 주문할 메뉴의 `정보(메뉴, 수량)`를 입력해야한다.
    - [ ] 메뉴는 `노출`된 메뉴여야한 한다. 
    - [ ] 주문한 메뉴와 실제 메뉴 가격이 일치해야 한다.
    - [ ] `매장식사`를 제외하고 수량이 0 보다 적을 수 없다.
- [ ] 주문 유형 `배달`로 주문이 가능하다. 
  - [ ] 주문 시  배송주소를 반드시 입력해야한다.
- [ ] 주문 유형이 `매장식사`로 주문이 가능하다. 
  - [ ] 주문 시 테이블정보를 입력받아야 한다.
    - [ ] 손님 또는 매장직원은 주문하기 전 테이블 번호와 인원 수를 입력하여야한다.
    - 만약 테이블에 부착된 키오스크를 이용한다면 인원 수 만을 입력한다.
    - [ ] 입력 시 테이블은 `손님 (수)명/사용중` 상태가 된다.
  - [ ] 손님이 테이블의 사용상태가 아니라면 주문이 불가하다.
- [ ] 주문한 목록들을 조회할 수 있다.

### 주문 후 주문유형 별 주문처리 과정 
- 주문의 상태는 `대기`, `접수승인`, `서빙완료`, `배송중`, `배송완료`, `완료`가 있다.
- [ ] 주문이 온다면 초기 상태는 `대기`이다.

- [ ] 주문 유형 `배달`로 주문 요청이 올 수 있다. 
  - [ ] 주문을 `승인`할 경우 `라이더`에게 주문정보를 전달한다. 
    - [ ] `주문번호`, `가격`, `배송주소` 정보를 전달한다.
    - [ ] 전달되면 `접수승인` 상태가 된다. 
  - [ ] 주문한 메뉴가 완성되어 라이더에게 전달한다. 
    - [ ] `서빙완료`상태를 의미한다.
  - [ ] 주문된 메뉴에 대해 배송을 시작할 수 있다. 
    - [ ] 주문된 메뉴가 완성(서빙완료)되어 있어야 한다.
    - [ ] 배송이 시작되면 주문의 상태가 `배송중`이 된다. 
  - [ ] 주문된 메뉴의 배송 완료할 수 있다.
    - [ ] 전 주문의 상태가 `배송중`이어야 `배송완료`를 할 수 있다.
    - [ ] 주문의 상태를 `배송완료`로 변경한다.
  - [ ] 매장은 주문된 메뉴에 대한 `완료`처리를 할 수 있다. 
    - [ ] 전 주문의 상태가 `배송완료`여야 한다. 
    - [ ] 주문의 상태가 `완료`로 변경된다.
    
- [ ] 주문 유형 `테이크아웃`으로 주문 요청이 올 수 있다.
  - [ ] 주문을 승인 시 주문상태 `접수승인`이 된다.
  - [ ] 주문된 상품이 나와 손님에게 안내를 한다.
    - [ ] 주문상태 `서빙완료`가 된다.
    - 예를 들어, 주문번호를 화면에 띄운다던가, 진동벨 등 손님에게 주문메뉴가 완성되었음을 알린다. 
  - [ ] 손님이 주문한 제품을 가져가면 `완료`처리를 할 수 있다. 
    - [ ] 전 주문 상태가 `서빙완료`여야 한다.
    - [ ] 주문의 상태가 `완료`로 변경된다.
    
- [ ] 주문 유형 `매장식사`로 주문 요청이 올 수 있다.
  - [ ] 주문을 승인 시 주문상태 `접수승인`이 된다.
  - [ ] 주문된 메뉴가 완성되면 지정된 테이블로 메뉴를 서빙한다. 
    - [ ] 주문상태 `서빙완료`가 된다.
  - [ ] 손님이 식사를 마치고 매장은 주문의 상태를 `완료`처리 할 수 있다. 
    - [ ] 전 주문 상태가 `서빙완료`여야 한다.
    - [ ] 주문의 상태가 `완료`로 변경된다.
  - [ ] 주문의 상태가 `완료`가 된다면 매장직원은 테이블을 `정리`하여야 한다.
    - [ ] 테이블의 상태가 `손님 0명/미사용`로 변경된다.

### 매장 내 테이블 관리
- [ ] 테이블을 등록할 수 있다. 
  - [ ] 테이블의 이름을 부여할 수 있다. 
  - [ ] 테이블 등록 시 테이블의 상태는 `손님 0명/미사용`이 된다.
- [ ] 테이블 목록을 조회할 수 있다.
- [ ] 테이블은 `정리`할 수 있다. 
  - [ ] 위에서 정의한 `매장식사` 완료를 위해 정리할 수 있다. 
  - [ ] 그 외 상황에서 `정리`할 수 있다.
  - [ ] 테이블의 상태가 `손님 0명/미사용`로 변경된다.

## 용어 사전

| 한글명 | 영문명 | 설명 |
| --- | --- | --- |
|  |  |  |

## 모델링
